<div class="container">
    
    <div class="row mt-3">
        <div class="col">
         
            <form name="ordonnances">
                <table>
                    <tr>
                        <td>
                            <label>Filtrer&nbsp;<i class="fa-regular fa-eye"></i></label>
                            <select  name="show" [(ngModel)]="rowsPerPage" class="form-control rounded-0">
                                <option>5</option>
                                <option>10</option>
                                <option>15</option>
                                <option>20</option>
                                <option>25</option>
                                <option>30</option>
                                <option>35</option>
                            </select>
                        </td>
                        <td class="spacer"></td>
                        <td>
                            <label>Recherche&nbsp;<i class="fa-solid fa-magnifying-glass"></i> :</label>
                            <input type="text" name="search" [(ngModel)]="searchTerm"  placeholder="jour,mois,année ou motif.." class="form-control rounded-0 w-100">            
                        </td>
                    </tr>
                </table>
            </form>

            <h6 class="mt-3">Table des consultations</h6>
            <div class="table-wrapper mt-3">
                <table  class="fl-table">
                    <thead>
                        <tr>
                            <th>Date :</th>
                            <th>Motif :</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let consultation of filteredPatients" [class.active]="selectedConsultation && selectedConsultation._id === consultation._id" (click)="navigateToDetails(consultation.patientId._id,consultation._id,consultation)">
                            <td>{{ consultation.createdAt | date:'dd/MM/yyyy' }}</td>
                            <td>{{consultation.motif}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col">

            <div class="row mt-3 mb-2">
                <div class="col"></div>
                <div class="col">
                    <button class="inactive btn btn-success rounded-0 rounded-circle mx-2" (click)="openModal('modal30')"><i class="fa-solid fa-circle-plus"></i></button>

                    <button class="inactive btn btn-primary rounded-0 rounded-circle mx-2" (click)="openModal('modal31')"><i class="fa-solid fa-marker"></i></button>

                    <button class="inactive btn btn-danger rounded-0 rounded-circle mx-2" (click)="delete(patientId,consultationId)" ><i class="fa-solid fa-trash-can"></i></button>
                </div>
            </div>

        
   
            <h6 class="mt-4">Table des ordonnances</h6>
            <div class="table-wrapper mt-3">
                <table class="fl-table w-100">
                    <thead>
                        <tr>
                            <th>Médicaments :</th>
                            <th>Posologie :</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let medicament of prescriptionList" [class.active]="selectedOrdonnace && selectedOrdonnace._id === medicament._id" (click)="theSelectedOrdonnace(medicament)">
                            <td>{{medicament.medicament}}</td>
                            <td>{{medicament.posologie}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <app-ajoutordonnance></app-ajoutordonnance>
    <app-updateordonnance></app-updateordonnance>
</div>